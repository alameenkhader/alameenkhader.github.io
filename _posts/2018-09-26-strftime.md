---
title: Are you still using `#strftime`
layout: post
date: 2018-09-26 02:44:26 +0530
description: If you are a RoR developer, you may have used(or still using) the method `strftime` to format time objects.
---

If you are a RoR developer, you may have used(or still using) the method `strftime` to format time objects.

~~~ ruby
[6] pry(main)> t = Time.now
=> 2018-09-24 14:43:48 +0530
[7] pry(main)> t.strftime("%m/%d/%Y %I:%M%p")
=> "09/24/2018 02:43PM"
~~~

Its quite easy. right? Oh wait.

Have you ever tried `to_formatted_s`. (aliased to `to_s`)

~~~ ruby
[18] pry(main)> time = Time.now
=> 2018-09-24 14:46:40 +0530
[19] pry(main)> time.to_formatted_s(:time)
=> "14:46"
[20] pry(main)> time.to_formatted_s(:short)
=> "24 Sep 14:46"
[21] pry(main)> time.to_formatted_s(:long)
=> "September 24, 2018 14:46"
~~~

Here is the list of built-in formats you can use.

~~~ ruby
[1] pry(main)> Time::DATE_FORMATS
=> {:db=>"%Y-%m-%d %H:%M:%S",
 :number=>"%Y%m%d%H%M%S",
 :nsec=>"%Y%m%d%H%M%S%9N",
 :usec=>"%Y%m%d%H%M%S%6N",
 :time=>"%H:%M",
 :short=>"%d %b %H:%M",
 :long=>"%B %d, %Y %H:%M",
 :long_ordinal=>#<Proc:0x0000557dc98466f0@/home/al/.rvm/gems/ruby-2.4.3/gems/activesupport-5.1.4/lib/active_support/core_ext/time/conversions.rb:13 (lambda)>,
 :rfc822=>#<Proc:0x0000557dc98466a0@/home/al/.rvm/gems/ruby-2.4.3/gems/activesupport-5.1.4/lib/active_support/core_ext/time/conversions.rb:17 (lambda)>,
 :iso8601=>#<Proc:0x0000557dc9846628@/home/al/.rvm/gems/ruby-2.4.3/gems/activesupport-5.1.4/lib/active_support/core_ext/time/conversions.rb:21 (lambda)>,
 :as_ops_date=>"%b %d, %y",
 :as_ops_time=>"%H:%M",
 :as_ops_tz=>"%Z",
 :as_client_trasit=>#<Proc:0x0000557dcdcc0e48@/home/al/projects/airspace/source-code/PackageTracker/config/initializers/time_formats.rb:11 (lambda)>,
 :as_ops_time_with_zone=>"%H:%M %Z",
 :as_notify_date=>"%m/%d/%Y",
 :as_ops=>"%b %d, %y %H:%M %Z",
 :as_client=>"%B %d, %Y %H:%M %Z",
 :as_notify_time=>"%H:%M %Z",
 :as_client_time=>"%B %d, %Y",
 :as_pu_date=>"%Y-%m-%d",
 :as_pu_time=>"%I:%M %p",
 :as_order_builder_date_time=>"%m/%d/%Y %H:%M %Z",
 :day_and_timestamp_with_zone=>"%a, %F %T %Z %z",
 :reporting_date=>"%-m/%-d/%Y",
 :reporting_time=>"%H:%M %p %z",
 :pick_up_delivery_reporting_time=>"%H%M",
 :time_zone=>"%H:%M %Z",
 :year=>"%Y",
 :month=>"%^b",
 :day=>"%-d"}
~~~

You can have your own time formats.

~~~ ruby
# config/initializers/time_formats.rb
Time::DATE_FORMATS.merge!(
  report: '%-m/%-d/%Y %H:%M %p %z',
  client:  '%B %d, %Y %H:%M %p %z'
)
~~~

~~~ ruby
[7] pry(main)> Time.now.to_s(:report)
=> "9/24/2018 15:57 PM +0530"
[8] pry(main)> Time.now.to_s(:client)
=> "September 24, 2018 15:57 PM +0530"
~~~
